/* */#include <stdio.h>#include <stdlib.h>#include <time.h>#include <math.h>#include "GL/glut.h"void CambiaDim(int, int);void DisegnaTutto();void AzioneTasto(unsigned char Tasto, int x, int y);void CambiaDim(int w, int h){	glViewport(0, 0, w, h);		// matrice proiezione	glMatrixMode(GL_PROJECTION);	glLoadIdentity();	glFrustum(-0.25, 0.25, -0.125, 0.125, 1, 1000);}GLfloat X = 0;GLfloat Y = 0;GLfloat Z = 0;GLfloat A = 0;class triangolo {	GLfloat X;	GLfloat Y;	GLfloat Z;	GLfloat A;		public:		triangolo(GLfloat x, GLfloat y, GLfloat z) : X(x), Y(y), Z(z), A(0) { }		void avanti() { Z -= 1; }	void indietro() { Z += 1; }	void destra() { X += 1; }	void sinistra() { X -= 1; }	void ruota() { A += 10; }		void disegnati()	{		glPushMatrix();		glTranslatef(X, Y, Z);		glRotatef(A, 0, 1, 0);			glBegin(GL_TRIANGLES);		glVertex3f(0, -2, 0);		glVertex3f(4, -2, 0);		glVertex3f(0, 2, 0);		glEnd();				glPopMatrix();	}};triangolo T1(0, 0, -15);triangolo T2(5, 0, -15);void DisegnaTutto(){	GLfloat i;		glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);		glMatrixMode(GL_MODELVIEW);	glLoadIdentity();		glRotatef(-A, 0, 1, 0);	glTranslatef(-X, -Y, -Z);		glBegin(GL_LINES);	glColor3f(0, 1, 0);	for(i = -200;i < 200;i += 5) {		glVertex3f(-200, -2, i);		glVertex3f(200, -2, i);	}	for(i = -200;i < 200;i += 5) {		glVertex3f(i, -2, -200);		glVertex3f(i, -2, 200);	}	glEnd();		glColor3f(1, 1, 0);	T1.disegnati();		glColor3f(1, 0, 1);	T2.disegnati();		glutSwapBuffers();}float P = 4;void AzioneTasto(unsigned char t, int, int){	if(t == 'a') X -= 1;	if(t == 's') X += 1;	if(t == 'w') Z -= 1;	if(t == 'z') Z += 1;	if(t == 'x') Y += 0.1;	if(t == 'c') Y -= 0.1;	if(t == 'q') A -= 10;	if(t == 'e') A += 10;	if(t == '1') P += 0.01f;	if(t == '2') P -= 0.01f;	//glMatrixMode(GL_PROJECTION);	//glLoadIdentity();	//glFrustum(-1, 1, -0.5, 0.5, P, 1000);		if(t == 'k') T1.sinistra();	if(t == 'l') T1.destra();	if(t == 'o') T1.avanti();	if(t == ',') T1.indietro();		if(t == 'h') T2.sinistra();	if(t == 'j') T2.destra();	if(t == 'u') T2.avanti();	if(t == 'n') T2.indietro();	if(t == 'b') T2.ruota();		glutPostRedisplay();}int main(int argc, char **argv){	glutInit(&argc, argv);		glutInitDisplayMode(GLUT_RGB | GLUT_DEPTH | GLUT_DOUBLE);	glutInitWindowPosition(100, 100);	glutInitWindowSize(450, 450);	glutCreateWindow("Triangoli 3d");		glClearColor(0.0f, 0.0f, 0.0f, 1.0f);		glEnable(GL_DEPTH_TEST);		glutReshapeFunc(CambiaDim);	glutDisplayFunc(DisegnaTutto);	glutKeyboardFunc(AzioneTasto);		glutMainLoop();		return(0);}